<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Reservas Hoteleras</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            min-height: 100vh;
            padding: 1.5rem;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-content h1 {
            color: #1e293b;
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .header-content p {
            color: #64748b;
            font-size: 1rem;
        }

        .header-icon {
            background: #dbeafe;
            padding: 1rem;
            border-radius: 12px;
        }

        .filters {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .filters h2 {
            color: #1e293b;
            font-size: 1.25rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .filter-item label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: #334155;
            margin-bottom: 0.5rem;
        }

        .filter-item select {
            width: 100%;
            padding: 0.625rem 1rem;
            border: 1px solid #cbd5e1;
            border-radius: 8px;
            font-size: 0.875rem;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
        }

        .filter-item select:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .kpis {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .kpi-card {
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .kpi-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 100%);
        }

        .kpi-card.blue { background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); }
        .kpi-card.red { background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); }
        .kpi-card.green { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
        .kpi-card.purple { background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); }
        .kpi-card.orange { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }

        .kpi-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 0.5rem 0;
            position: relative;
            z-index: 1;
        }

        .kpi-label {
            font-size: 0.875rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .chart-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
        }

        .chart-card h3 {
            color: #1e293b;
            font-size: 1.125rem;
            margin-bottom: 1rem;
        }

        .chart-container {
            position: relative;
            height: 300px;
        }

        .insights {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            color: white;
        }

        .insights h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .insight-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 8px;
            padding: 1.25rem;
        }

        .insight-card p:first-child {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .insight-card p:last-child {
            font-size: 0.875rem;
            opacity: 0.9;
        }

        @media (max-width: 768px) {
            .charts-grid {
                grid-template-columns: 1fr;
            }
            
            .header {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-content">
                <h1>Dashboard de Reservas Hoteleras</h1>
                <p>An√°lisis interactivo de datos de reservas 2015-2017</p>
            </div>
            <div class="header-icon">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#3b82f6" stroke-width="2">
                    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                </svg>
            </div>
        </div>

        <!-- Filtros -->
        <div class="filters">
            <h2>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
                </svg>
                Filtros
            </h2>
            <div class="filter-grid">
                <div class="filter-item">
                    <label>Hotel</label>
                    <select id="filterHotel">
                        <option value="Todos">Todos</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label>A√±o</label>
                    <select id="filterYear">
                        <option value="Todos">Todos</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label>Pa√≠s</label>
                    <select id="filterCountry">
                        <option value="Todos">Todos</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label>Segmento</label>
                    <select id="filterSegment">
                        <option value="Todos">Todos</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- KPIs -->
        <div class="kpis">
            <div class="kpi-card blue">
                <div class="kpi-label">Total Reservas</div>
                <div class="kpi-value" id="kpiTotal">-</div>
            </div>
            <div class="kpi-card red">
                <div class="kpi-label">Tasa Cancelaci√≥n</div>
                <div class="kpi-value" id="kpiCancellation">-</div>
            </div>
            <div class="kpi-card green">
                <div class="kpi-label">ADR Promedio</div>
                <div class="kpi-value" id="kpiADR">-</div>
            </div>
            <div class="kpi-card purple">
                <div class="kpi-label">Ingresos Totales</div>
                <div class="kpi-value" id="kpiRevenue">-</div>
            </div>
            <div class="kpi-card orange">
                <div class="kpi-label">Lead Time (d√≠as)</div>
                <div class="kpi-value" id="kpiLeadTime">-</div>
            </div>
        </div>

        <!-- Gr√°ficos principales -->
        <div class="charts-grid">
            <div class="chart-card">
                <h3>Reservas por Mes</h3>
                <div class="chart-container">
                    <canvas id="monthlyChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h3>Top 10 Pa√≠ses</h3>
                <div class="chart-container">
                    <canvas id="countriesChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Gr√°ficos secundarios -->
        <div class="charts-grid">
            <div class="chart-card">
                <h3>Segmentos de Mercado</h3>
                <div class="chart-container">
                    <canvas id="segmentsChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h3>Categor√≠as de Hu√©spedes</h3>
                <div class="chart-container">
                    <canvas id="guestsChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Insights -->
        <div class="insights">
            <h3>üîç Insights Clave</h3>
            <div class="insights-grid">
                <div class="insight-card">
                    <p>Cancelaciones</p>
                    <p id="insightCancellation">Analizando datos...</p>
                </div>
                <div class="insight-card">
                    <p>Anticipaci√≥n</p>
                    <p id="insightLeadTime">Analizando datos...</p>
                </div>
                <div class="insight-card">
                    <p>Mercados</p>
                    <p>Los segmentos Online TA y TA/TO dominan. Fortalece relaciones con estos canales.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Datos embebidos
        const rawData = `hotel;is_canceled;lead_time;arrival_date_year;arrival_date_month;arrival_date_week_number;arrival_date_day_of_month;stays_in_weekend_nights;stays_in_week_nights;adults;children;babies;meal;country;market_segment;distribution_channel;is_repeated_guest;previous_cancellations;previous_bookings_not_canceled;reserved_room_type;assigned_room_type;booking_changes;deposit_type;agent;company;days_in_waiting_list;customer_type;adr;required_car_parking_spaces;total_of_special_requests;reservation_status;reservation_status_date;total_stays;total_people;reserved_room_assigned;total_children;guest_category;lead_time_category
City Hotel;0;0;2015;August;33;9;1;0;2;0;0;BB;PRT;Online TA;TA/TO;0;0;0;A;A;0;No Deposit;0;0;0;Transient;105;0;0;Check-Out;2015-08-10;1;2;A ‚Üí A;0;Pareja;√öltimo minuto
City Hotel;0;0;2015;August;33;10;1;3;1;0;0;BB;FRA;Online TA;TA/TO;0;0;0;A;A;1;No Deposit;0;0;0;Transient;114;0;0;Check-Out;2015-08-14;4;1;A ‚Üí A;0;Solo;√öltimo minuto
City Hotel;0;0;2015;August;33;10;1;3;2;0;0;SC;FRA;Online TA;TA/TO;0;0;0;A;A;1;No Deposit;0;0;0;Transient;115;0;0;Check-Out;2015-08-14;4;2;A ‚Üí A;0;Pareja;√öltimo minuto
City Hotel;0;0;2015;August;33;10;1;3;2;0;0;SC;FRA;Online TA;TA/TO;0;0;0;A;E;2;No Deposit;0;0;0;Transient;115;0;0;Check-Out;2015-08-14;4;2;A ‚Üí E;0;Pareja;√öltimo minuto
City Hotel;0;0;2015;August;33;13;0;2;2;0;0;BB;PRT;Online TA;TA/TO;0;0;0;A;B;0;No Deposit;0;0;0;Transient;85;0;0;Check-Out;2015-08-15;2;2;A ‚Üí B;0;Pareja;√öltimo minuto
City Hotel;0;0;2016;January;1;2;0;1;2;0;0;BB;PRT;Offline TA/TO;TA/TO;0;0;0;A;D;1;No Deposit;85;85;0;Transient;72;0;0;Check-Out;2016-01-03;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
City Hotel;0;0;2017;March;11;14;0;1;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;D;D;0;No Deposit;444;444;0;Transient;95;0;0;Check-Out;2017-03-15;1;1;D ‚Üí D;0;Solo;√öltimo minuto
City Hotel;0;1;2015;August;33;10;1;1;2;0;0;BB;FRA;Online TA;TA/TO;0;0;0;A;D;0;No Deposit;0;0;0;Transient;114;0;0;Check-Out;2015-08-12;2;2;A ‚Üí D;0;Pareja;√öltimo minuto
City Hotel;0;1;2015;August;33;10;1;1;2;0;0;BB;PRT;Online TA;TA/TO;0;0;0;A;D;0;No Deposit;0;0;0;Contract;105;0;1;Check-Out;2015-08-12;2;2;A ‚Üí D;0;Pareja;√öltimo minuto
City Hotel;0;1;2015;August;35;24;1;0;2;1;0;BB;PRT;Online TA;TA/TO;1;0;2;D;D;2;No Deposit;0;0;0;Transient;123,5;0;3;Check-Out;2015-08-25;1;3;D ‚Üí D;1;Familia peque√±a;√öltimo minuto
City Hotel;0;1;2015;August;36;31;1;4;1;0;0;BB;FRA;Online TA;TA/TO;0;0;0;A;A;1;No Deposit;0;0;0;Contract;92;0;2;Check-Out;2015-09-05;5;1;A ‚Üí A;0;Solo;√öltimo minuto
City Hotel;0;1;2016;January;3;16;0;1;2;0;0;SC;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;14;14;0;Transient;94;0;0;Check-Out;2016-01-17;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
City Hotel;0;1;2017;January;2;12;0;2;2;1;0;BB;PRT;Online TA;TA/TO;0;0;0;A;A;1;No Deposit;159;412;0;Transient;104,5;0;0;Check-Out;2017-01-14;2;3;A ‚Üí A;1;Familia peque√±a;√öltimo minuto
City Hotel;0;3;2016;September;39;22;0;1;2;0;0;BB;MEX;Online TA;TA/TO;0;0;0;D;D;0;No Deposit;0;313;0;Transient;194;0;2;Check-Out;2016-09-23;1;2;D ‚Üí D;0;Pareja;√öltimo minuto
City Hotel;0;4;2016;October;42;14;0;2;2;1;0;BB;PRT;Complementary;Direct;1;0;7;A;D;1;No Deposit;45;45;0;Transient;0;0;1;Check-Out;2016-10-16;2;3;A ‚Üí D;1;Familia peque√±a;√öltimo minuto
City Hotel;0;6;2016;September;40;25;2;1;1;0;0;SC;PRT;Online TA;TA/TO;0;0;0;A;A;0;No Deposit;0;312;0;Transient;159;0;2;Check-Out;2016-09-28;3;1;A ‚Üí A;0;Solo;√öltimo minuto
City Hotel;0;11;2016;November;49;27;2;2;1;0;0;BB;PRT;Online TA;TA/TO;0;0;0;A;A;0;No Deposit;0;379;0;Transient;89,89;0;2;Check-Out;2016-12-01;4;1;A ‚Üí A;0;Solo;√öltimo minuto
City Hotel;0;11;2017;May;19;9;0;1;1;0;0;BB;PRT;Offline TA/TO;TA/TO;0;0;0;A;A;0;No Deposit;290;148;0;Transient;95;0;1;Check-Out;2017-05-10;1;1;A ‚Üí A;0;Solo;√öltimo minuto
City Hotel;0;11;2017;May;19;9;0;1;1;0;0;BB;PRT;Offline TA/TO;TA/TO;0;0;0;A;B;0;No Deposit;290;148;0;Transient;95;0;1;Check-Out;2017-05-10;1;1;A ‚Üí B;0;Solo;√öltimo minuto
City Hotel;0;11;2017;May;19;9;0;2;1;0;0;BB;ESP;Offline TA/TO;TA/TO;0;0;0;D;D;0;No Deposit;290;148;0;Transient;110;0;1;Check-Out;2017-05-11;2;1;D ‚Üí D;0;Solo;√öltimo minuto
City Hotel;0;11;2017;May;19;9;0;2;1;0;0;BB;ITA;Offline TA/TO;TA/TO;1;0;1;D;D;0;No Deposit;290;148;0;Group;110;0;1;Check-Out;2017-05-11;2;1;D ‚Üí D;0;Solo;√öltimo minuto
City Hotel;0;13;2017;May;21;24;0;1;2;0;0;BB;CHN;Online TA;TA/TO;0;0;0;A;A;0;No Deposit;0;478;0;Transient-Party;150;0;1;Check-Out;2017-05-25;1;2;A ‚Üí A;0;Pareja;√öltimo minuto
City Hotel;0;13;2017;May;22;29;1;3;1;0;0;BB;ITA;Offline TA/TO;TA/TO;0;0;0;A;A;1;No Deposit;290;148;0;Transient;95;0;0;Check-Out;2017-06-02;4;1;A ‚Üí A;0;Solo;√öltimo minuto
City Hotel;0;13;2017;May;22;29;1;3;2;0;0;BB;ITA;Offline TA/TO;TA/TO;0;0;0;A;A;1;No Deposit;290;148;0;Transient;110;0;0;Check-Out;2017-06-02;4;2;A ‚Üí A;0;Pareja;√öltimo minuto
City Hotel;0;14;2017;May;22;30;0;3;1;0;0;BB;ESP;Offline TA/TO;TA/TO;1;0;1;A;A;0;No Deposit;290;148;0;Group;95;0;1;Check-Out;2017-06-02;3;1;A ‚Üí A;0;Solo;√öltimo minuto
City Hotel;0;14;2017;May;22;30;0;3;1;0;0;BB;ITA;Offline TA/TO;TA/TO;1;0;2;A;A;0;No Deposit;290;186;0;Transient-Party;95;0;1;Check-Out;2017-06-02;3;1;A ‚Üí A;0;Solo;√öltimo minuto
City Hotel;0;17;2016;December;53;31;0;1;2;0;0;BB;DEU;Offline TA/TO;TA/TO;0;0;0;A;A;0;No Deposit;27;132;0;Transient;80;0;0;Check-Out;2017-01-01;1;2;A ‚Üí A;0;Pareja;√öltimo minuto
City Hotel;0;19;2015;September;39;20;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;E;1;No Deposit;14;84;0;Transient;124;0;0;Check-Out;2015-09-21;1;2;A ‚Üí E;0;Pareja;√öltimo minuto
City Hotel;0;20;2017;February;6;7;0;2;1;0;0;BB;IRL;Online TA;GDS;0;0;0;A;A;0;No Deposit;195;417;0;Transient;98;0;0;Check-Out;2017-02-09;2;1;A ‚Üí A;0;Solo;√öltimo minuto
City Hotel;0;25;2016;September;38;12;1;0;1;0;0;BB;CHN;Online TA;TA/TO;0;0;0;A;A;0;No Deposit;0;301;0;Transient-Party;108;0;2;Check-Out;2016-09-13;1;1;A ‚Üí A;0;Solo;√öltimo minuto
City Hotel;0;27;2016;November;46;7;1;2;1;0;0;BB;BEL;Direct;Direct;0;0;0;A;A;1;No Deposit;14;361;0;Transient-Party;195;0;0;Check-Out;2016-11-10;3;1;A ‚Üí A;0;Solo;√öltimo minuto
City Hotel;0;131;2016;July;29;11;1;4;1;0;0;BB;GBR;Online TA;TA/TO;0;0;0;A;A;0;No Deposit;0;273;0;Transient;101,15;0;1;Check-Out;2016-07-16;5;1;A ‚Üí A;0;Solo;Medio plazo
City Hotel;0;191;2017;July;29;16;2;2;2;0;0;BB;PRT;Online TA;TA/TO;0;0;0;D;D;0;No Deposit;0;421;0;Transient;120,6;0;2;Check-Out;2017-07-20;4;2;D ‚Üí D;0;Pareja;Largo plazo
City Hotel;0;210;2017;June;23;9;0;1;2;0;0;BB;GBR;Direct;Direct;0;0;0;D;D;0;No Deposit;14;229;0;Transient;135;0;0;Check-Out;2017-06-10;1;2;D ‚Üí D;0;Pareja;Largo plazo
City Hotel;0;246;2016;December;53;27;2;5;3;0;0;BB;ROU;Online TA;TA/TO;0;0;0;A;A;3;No Deposit;7;395;0;Transient;93,36;0;2;Check-Out;2017-01-03;7;3;A ‚Üí A;0;Familia peque√±a;Largo plazo
City Hotel;0;256;2016;October;43;16;2;3;2;0;0;BB;DEU;Online TA;TA/TO;0;0;0;A;A;0;No Deposit;0;333;0;Transient-Party;100,75;0;0;Check-Out;2016-10-21;5;2;A ‚Üí A;0;Pareja;Largo plazo
City Hotel;0;256;2016;October;43;16;2;3;2;0;0;BB;DEU;Online TA;TA/TO;0;0;0;A;A;1;No Deposit;0;333;0;Transient-Party;100,75;0;0;Check-Out;2016-10-21;5;2;A ‚Üí A;0;Pareja;Largo plazo
City Hotel;1;1;2015;August;33;10;1;1;2;0;0;BB;ITA;Online TA;TA/TO;0;0;0;A;A;0;No Deposit;0;0;0;Transient;105;0;0;Canceled;2015-08-09;2;2;A ‚Üí A;0;Pareja;√öltimo minuto
City Hotel;1;1;2016;January;3;16;0;1;3;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;0;No Deposit;14;14;0;Transient;108;0;0;No-Show;2016-01-16;1;3;A ‚Üí D;0;Familia peque√±a;√öltimo minuto
Resort Hotel;0;0;2015;November;46;9;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;1;No Deposit;334;281;0;Group;48;0;0;Check-Out;2015-11-10;1;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;0;2015;November;49;30;1;1;2;0;0;BB;PRT;Online TA;TA/TO;0;0;0;D;D;1;No Deposit;240;331;0;Transient;48;0;0;Check-Out;2015-12-02;2;2;D ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;0;2016;May;21;15;1;0;2;0;0;BB;GBR;Direct;TA/TO;1;0;0;A;D;0;Refundable;405;405;0;Group;70;0;0;Check-Out;2016-05-16;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;0;2016;May;21;15;1;0;2;0;0;BB;GBR;Direct;TA/TO;1;0;0;A;D;0;Refundable;405;405;0;Group;70;1;0;Check-Out;2016-05-16;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;1;2015;November;45;2;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;1;No Deposit;334;281;0;Transient;48;0;0;Check-Out;2015-11-03;1;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;1;2015;November;45;2;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;334;281;0;Group;48;0;0;Check-Out;2015-11-03;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;1;2015;November;49;30;1;1;2;0;0;BB;PRT;Direct;Direct;0;0;0;D;D;1;No Deposit;334;281;0;Transient;48;0;0;Check-Out;2015-12-02;2;2;D ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;1;2016;May;21;15;1;0;2;0;0;BB;GBR;Direct;TA/TO;1;0;1;A;D;2;Refundable;405;405;0;Group;70;0;0;Check-Out;2016-05-16;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;1;2016;May;21;15;1;0;2;0;0;BB;GBR;Direct;TA/TO;1;0;1;A;D;2;Refundable;405;405;0;Group;70;0;0;Check-Out;2016-05-16;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;2;2015;November;46;11;0;1;1;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;1;No Deposit;334;281;0;Group;45;0;0;Check-Out;2015-11-12;1;1;A ‚Üí C;0;Solo;√öltimo minuto
Resort Hotel;0;2;2015;November;46;11;0;1;1;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;2;No Deposit;334;281;0;Group;45;0;0;Check-Out;2015-11-12;1;1;A ‚Üí C;0;Solo;√öltimo minuto
Resort Hotel;0;2;2015;November;46;11;0;1;1;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;334;281;0;Group;45;0;0;Check-Out;2015-11-12;1;1;A ‚Üí D;0;Solo;√öltimo minuto
Resort Hotel;0;2;2015;November;46;11;0;1;1;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;2;No Deposit;334;281;0;Group;45;0;0;Check-Out;2015-11-12;1;1;A ‚Üí D;0;Solo;√öltimo minuto
Resort Hotel;0;2;2015;November;46;11;0;2;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;1;No Deposit;334;281;0;Group;50,4;0;0;Check-Out;2015-11-13;2;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;2;2015;November;46;11;0;2;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;2;No Deposit;334;281;0;Group;50,4;0;0;Check-Out;2015-11-13;2;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;2;2015;November;46;11;0;2;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;334;281;0;Group;50,4;0;0;Check-Out;2015-11-13;2;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;2;2015;November;46;11;0;2;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;334;281;0;Transient;50,4;0;0;Check-Out;2015-11-13;2;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;2;2015;November;46;11;0;2;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;2;No Deposit;334;281;0;Group;50,4;0;0;Check-Out;2015-11-13;2;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;2;2016;May;21;15;1;0;2;0;0;BB;GBR;Direct;TA/TO;1;0;1;A;D;0;Refundable;405;405;0;Group;70;0;0;Check-Out;2016-05-16;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;2;2016;May;21;15;1;0;2;0;0;BB;GBR;Direct;TA/TO;1;0;1;A;D;3;Refundable;405;405;0;Group;70;0;0;Check-Out;2016-05-16;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;3;2015;November;46;12;0;1;1;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;2;No Deposit;334;281;0;Group;45;0;0;Check-Out;2015-11-13;1;1;A ‚Üí C;0;Solo;√öltimo minuto
Resort Hotel;0;3;2015;November;46;12;0;2;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;1;No Deposit;334;281;0;Group;50,4;0;0;Check-Out;2015-11-14;2;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;3;2015;November;46;12;0;2;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;334;281;0;Group;50,4;0;0;Check-Out;2015-11-14;2;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;3;2015;November;46;12;0;2;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;2;No Deposit;334;281;0;Group;50,4;0;0;Check-Out;2015-11-14;2;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;3;2015;November;46;12;0;3;1;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;2;No Deposit;334;281;0;Group;40;0;0;Check-Out;2015-11-15;3;1;A ‚Üí C;0;Solo;√öltimo minuto
Resort Hotel;0;3;2015;November;46;12;0;3;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;1;No Deposit;334;281;0;Group;49,2;0;0;Check-Out;2015-11-15;3;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;3;2015;November;46;12;0;3;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;2;No Deposit;334;281;0;Group;49,2;0;0;Check-Out;2015-11-15;3;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;3;2015;November;46;12;0;3;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;334;281;0;Group;49,2;0;0;Check-Out;2015-11-15;3;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;3;2015;November;46;12;0;3;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;2;No Deposit;334;281;0;Group;49,2;0;0;Check-Out;2015-11-15;3;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;3;2015;November;46;12;0;3;2;0;0;BB;PRT;Direct;Direct;0;0;0;E;E;1;No Deposit;334;281;0;Group;49,2;0;0;Check-Out;2015-11-15;3;2;E ‚Üí E;0;Pareja;√öltimo minuto
Resort Hotel;0;3;2015;November;46;12;0;3;2;0;0;BB;PRT;Direct;Direct;0;0;0;E;E;2;No Deposit;334;281;0;Group;49,2;0;0;Check-Out;2015-11-15;3;2;E ‚Üí E;0;Pareja;√öltimo minuto
Resort Hotel;0;4;2015;November;46;13;0;2;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;1;No Deposit;334;281;0;Group;50,4;0;0;Check-Out;2015-11-15;2;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;4;2015;November;46;13;0;2;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;2;No Deposit;334;281;0;Group;50,4;0;0;Check-Out;2015-11-15;2;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;4;2015;November;46;13;0;2;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;334;281;0;Group;50,4;0;0;Check-Out;2015-11-15;2;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;4;2015;November;46;13;0;2;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;2;No Deposit;334;281;0;Group;50,4;0;0;Check-Out;2015-11-15;2;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;4;2015;November;46;13;0;2;2;0;0;BB;PRT;Direct;Direct;0;0;0;E;E;1;No Deposit;334;281;0;Group;52,2;0;0;Check-Out;2015-11-15;2;2;E ‚Üí E;0;Pareja;√öltimo minuto
Resort Hotel;0;4;2015;November;46;13;0;2;2;0;0;BB;PRT;Direct;Direct;0;0;0;E;E;2;No Deposit;334;281;0;Group;52,2;0;0;Check-Out;2015-11-15;2;2;E ‚Üí E;0;Pareja;√öltimo minuto
Resort Hotel;0;5;2015;November;46;14;0;1;1;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;1;No Deposit;334;281;0;Group;45;0;0;Check-Out;2015-11-15;1;1;A ‚Üí C;0;Solo;√öltimo minuto
Resort Hotel;0;5;2015;November;46;14;0;1;1;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;2;No Deposit;334;281;0;Group;45;0;0;Check-Out;2015-11-15;1;1;A ‚Üí C;0;Solo;√öltimo minuto
Resort Hotel;0;5;2015;November;46;14;0;1;1;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;334;281;0;Group;45;0;0;Check-Out;2015-11-15;1;1;A ‚Üí D;0;Solo;√öltimo minuto
Resort Hotel;0;5;2015;November;46;14;0;1;1;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;2;No Deposit;334;281;0;Group;45;0;0;Check-Out;2015-11-15;1;1;A ‚Üí D;0;Solo;√öltimo minuto
Resort Hotel;0;5;2015;November;46;14;0;1;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;1;No Deposit;334;281;0;Group;50,4;0;0;Check-Out;2015-11-15;1;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;5;2015;November;46;14;0;1;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;2;No Deposit;334;281;0;Group;50,4;0;0;Check-Out;2015-11-15;1;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;5;2015;November;46;14;0;1;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;334;281;0;Group;50,4;0;0;Check-Out;2015-11-15;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;5;2015;November;46;14;0;1;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;2;No Deposit;334;281;0;Group;50,4;0;0;Check-Out;2015-11-15;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;5;2015;November;46;14;0;1;2;0;0;BB;PRT;Direct;Direct;0;0;0;E;E;1;No Deposit;334;281;0;Group;52,2;0;0;Check-Out;2015-11-15;1;2;E ‚Üí E;0;Pareja;√öltimo minuto
Resort Hotel;0;5;2015;November;46;14;0;1;2;0;0;BB;PRT;Direct;Direct;0;0;0;E;E;2;No Deposit;334;281;0;Group;52,2;0;0;Check-Out;2015-11-15;1;2;E ‚Üí E;0;Pareja;√öltimo minuto
Resort Hotel;0;6;2015;November;45;3;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;1;No Deposit;334;281;0;Transient;48;0;0;Check-Out;2015-11-04;1;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;6;2015;November;45;3;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;334;281;0;Transient;48;0;0;Check-Out;2015-11-04;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;7;2015;November;45;4;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;1;No Deposit;334;281;0;Transient;48;0;0;Check-Out;2015-11-05;1;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;7;2015;November;45;4;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;334;281;0;Transient;48;0;0;Check-Out;2015-11-05;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;8;2015;November;45;5;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;1;No Deposit;334;281;0;Transient;48;0;0;Check-Out;2015-11-06;1;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;8;2015;November;45;5;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;334;281;0;Transient;48;0;0;Check-Out;2015-11-06;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;9;2015;November;45;6;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;1;No Deposit;334;281;0;Transient;48;0;0;Check-Out;2015-11-07;1;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;9;2015;November;45;6;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;334;281;0;Transient;48;0;0;Check-Out;2015-11-07;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;10;2015;November;46;9;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;1;No Deposit;334;281;0;Group;48;0;0;Check-Out;2015-11-10;1;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;10;2015;November;46;9;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;334;281;0;Group;48;0;0;Check-Out;2015-11-10;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;18;2015;November;47;23;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;C;1;No Deposit;334;281;0;Transient;48;0;0;Check-Out;2015-11-24;1;2;A ‚Üí C;0;Pareja;√öltimo minuto
Resort Hotel;0;18;2015;November;47;23;1;0;2;0;0;BB;PRT;Direct;Direct;0;0;0;A;D;1;No Deposit;334;281;0;Transient;48;0;0;Check-Out;2015-11-24;1;2;A ‚Üí D;0;Pareja;√öltimo minuto
Resort Hotel;0;30;2015;November;46;9;2;5;2;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;D;2;No Deposit;185;281;0;Transient-Party;43,2;0;0;Check-Out;2015-11-16;7;2;A ‚Üí D;0;Pareja;Corto plazo
Resort Hotel;0;30;2015;November;46;9;2;5;2;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;D;3;No Deposit;185;281;0;Transient-Party;43,2;0;0;Check-Out;2015-11-16;7;2;A ‚Üí D;0;Pareja;Corto plazo
Resort Hotel;0;31;2015;November;46;10;1;4;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;2;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;5;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;32;2015;November;45;7;2;6;1;0;0;BB;DEU;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;8;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;33;2015;November;46;12;0;3;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;3;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;33;2015;November;46;12;0;3;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;2;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;3;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;34;2015;November;46;13;0;2;2;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;D;1;No Deposit;185;281;0;Transient-Party;43,2;0;0;Check-Out;2015-11-15;2;2;A ‚Üí D;0;Pareja;Corto plazo
Resort Hotel;0;34;2015;November;46;13;0;2;2;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;D;2;No Deposit;185;281;0;Transient-Party;43,2;0;0;Check-Out;2015-11-15;2;2;A ‚Üí D;0;Pareja;Corto plazo
Resort Hotel;0;35;2015;November;46;14;0;1;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;1;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;35;2015;November;46;14;0;1;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;2;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;1;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;36;2015;November;45;7;2;6;1;0;0;BB;AUT;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;8;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;36;2015;November;45;7;2;6;1;0;0;BB;AUT;Corporate;Corporate;0;0;0;A;A;2;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;8;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;36;2015;November;45;7;2;6;1;0;0;BB;DEU;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;8;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;36;2015;November;45;7;2;6;1;0;0;BB;DEU;Corporate;Corporate;0;0;0;A;A;2;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;8;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;36;2015;November;45;7;2;6;1;0;0;BB;GBR;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;8;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;36;2015;November;45;7;2;6;1;0;0;BB;GBR;Corporate;Corporate;0;0;0;A;A;2;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;8;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;36;2015;November;45;7;2;6;1;0;0;BB;GBR;Corporate;Corporate;0;0;0;E;E;2;No Deposit;185;281;0;Transient-Party;52,2;0;0;Check-Out;2015-11-15;8;1;E ‚Üí E;0;Solo;Corto plazo
Resort Hotel;0;36;2015;November;45;7;2;6;1;0;0;BB;USA;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;8;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;36;2015;November;45;7;2;6;2;0;0;BB;AUT;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;43,2;0;0;Check-Out;2015-11-15;8;2;A ‚Üí A;0;Pareja;Corto plazo
Resort Hotel;0;36;2015;November;45;7;2;6;2;0;0;BB;GBR;Corporate;Corporate;0;0;0;E;E;1;No Deposit;185;281;0;Transient-Party;53,45;0;0;Check-Out;2015-11-15;8;2;E ‚Üí E;0;Pareja;Corto plazo
Resort Hotel;0;36;2015;November;45;7;3;6;1;0;0;BB;DEU;Corporate;Corporate;0;0;0;A;A;3;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-16;9;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;37;2015;November;46;8;2;5;1;0;0;BB;BEL;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;7;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;37;2015;November;46;8;2;5;1;0;0;BB;GBR;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;7;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;37;2015;November;46;8;2;5;1;0;0;BB;GBR;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;37,43;0;0;Check-Out;2015-11-15;7;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;37;2015;November;46;8;2;5;1;0;0;BB;GBR;Corporate;Corporate;0;0;0;E;E;1;No Deposit;185;281;0;Transient-Party;58,2;1;0;Check-Out;2015-11-15;7;1;E ‚Üí E;0;Solo;Corto plazo
Resort Hotel;0;37;2015;November;46;8;2;5;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;7;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;37;2015;November;46;8;2;5;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;2;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;7;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;37;2015;November;46;8;2;5;2;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;D;1;No Deposit;185;281;0;Transient-Party;43,2;0;0;Check-Out;2015-11-15;7;2;A ‚Üí D;0;Pareja;Corto plazo
Resort Hotel;0;37;2015;November;46;8;2;5;2;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;D;2;No Deposit;185;281;0;Transient-Party;43,2;0;0;Check-Out;2015-11-15;7;2;A ‚Üí D;0;Pareja;Corto plazo
Resort Hotel;0;37;2015;November;46;8;2;5;2;0;0;BB;PRT;Corporate;Corporate;0;0;0;E;E;1;No Deposit;185;281;0;Transient-Party;52,2;0;0;Check-Out;2015-11-15;7;2;E ‚Üí E;0;Pareja;Corto plazo
Resort Hotel;0;39;2015;November;46;10;0;5;2;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;D;2;No Deposit;185;281;0;Transient-Party;43,2;0;0;Check-Out;2015-11-15;5;2;A ‚Üí D;0;Pareja;Corto plazo
Resort Hotel;0;40;2015;November;46;11;0;4;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;2;No Deposit;185;281;0;Transient-Party;36;0;0;Check-Out;2015-11-15;4;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;0;40;2017;March;10;7;0;0;1;0;0;BB;PRT;Online TA;TA/TO;0;0;0;E;E;2;No Deposit;184;126;0;Transient;0;0;0;Check-Out;2017-03-07;0;1;E ‚Üí E;0;Solo;Corto plazo
Resort Hotel;0;41;2015;November;46;12;0;3;1;0;0;BB;AUT;Corporate;Corporate;0;0;0;E;E;1;No Deposit;185;281;0;Transient-Party;52,2;0;0;Check-Out;2015-11-15;3;1;E ‚Üí E;0;Solo;Corto plazo
Resort Hotel;0;41;2015;November;46;12;0;3;2;0;0;BB;AUT;Corporate;Corporate;0;0;0;A;D;3;No Deposit;185;281;0;Transient-Party;49,2;1;0;Check-Out;2015-11-15;3;2;A ‚Üí D;0;Pareja;Corto plazo
Resort Hotel;0;41;2015;November;46;12;0;3;2;0;0;BB;AUT;Corporate;Corporate;0;0;0;E;E;1;No Deposit;185;281;0;Transient-Party;52,2;0;0;Check-Out;2015-11-15;3;2;E ‚Üí E;0;Pareja;Corto plazo
Resort Hotel;0;70;2017;March;10;8;0;4;2;0;0;BB;NLD;Online TA;TA/TO;0;0;0;D;D;0;No Deposit;242;242;0;Transient;66,5;0;1;Check-Out;2017-03-12;4;2;D ‚Üí D;0;Pareja;Corto plazo
Resort Hotel;0;151;2017;July;28;10;2;5;2;0;0;HB;GBR;Offline TA/TO;TA/TO;0;0;0;E;E;0;No Deposit;40;40;0;Contract;163,4;0;0;Check-Out;2017-07-17;7;2;E ‚Üí E;0;Pareja;Medio plazo
Resort Hotel;0;154;2016;September;37;5;2;5;2;0;0;FB;PRT;Direct;Direct;0;0;0;C;C;5;No Deposit;250;442;0;Transient;212,6;0;2;Check-Out;2016-09-12;7;2;C ‚Üí C;0;Pareja;Medio plazo
Resort Hotel;0;222;2017;June;24;13;2;5;2;0;0;HB;GBR;Offline TA/TO;TA/TO;0;0;0;D;D;0;No Deposit;143;436;0;Transient;96,4;0;0;Check-Out;2017-06-20;7;2;D ‚Üí D;0;Pareja;Largo plazo
Resort Hotel;0;228;2017;June;23;6;2;5;2;0;0;BB;GBR;Offline TA/TO;TA/TO;0;0;0;E;E;0;No Deposit;143;436;0;Group;87,13;0;0;Check-Out;2017-06-13;7;2;E ‚Üí E;0;Pareja;Largo plazo
Resort Hotel;0;364;2016;October;42;12;1;4;3;0;0;BB;GBR;Groups;Direct;0;0;0;A;C;2;No Deposit;223;223;0;Transient-Party;101;0;0;Check-Out;2016-10-17;5;3;A ‚Üí C;0;Familia peque√±a;Largo plazo
Resort Hotel;1;3;2015;November;46;12;0;3;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;1;No Deposit;334;281;0;Transient-Party;40;0;0;Canceled;2015-11-12;3;1;A ‚Üí A;0;Solo;√öltimo minuto
Resort Hotel;1;4;2016;April;15;4;1;2;1;0;0;BB;PRT;Corporate;Corporate;1;0;2;A;D;2;No Deposit;139;99;0;Transient;67,5;0;0;Canceled;2016-04-04;3;1;A ‚Üí D;0;Solo;√öltimo minuto
Resort Hotel;1;7;2016;May;20;11;0;1;1;0;0;BB;PRT;Direct;Direct;0;0;0;A;A;1;No Deposit;405;405;0;Transient-Party;70;0;0;No-Show;2016-05-11;1;1;A ‚Üí A;0;Solo;√öltimo minuto
Resort Hotel;1;30;2015;November;46;9;2;5;2;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;4;No Deposit;326;281;0;Transient-Party;48;0;0;No-Show;2015-11-09;7;2;A ‚Üí A;0;Pareja;√öltimo minuto
Resort Hotel;1;33;2015;November;46;12;0;3;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;1;No Deposit;324;324;0;Transient-Party;36;0;0;Canceled;2015-11-09;3;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;1;36;2015;November;45;7;2;6;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;36;0;0;Canceled;2015-11-04;8;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;1;37;2015;November;46;8;2;5;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;36;0;0;Canceled;2015-10-23;7;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;1;38;2015;November;46;9;1;5;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;3;No Deposit;185;281;0;Transient-Party;36;0;0;No-Show;2015-11-09;6;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;1;40;2015;November;46;11;0;4;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;36;0;0;Canceled;2015-11-11;4;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;1;41;2015;November;46;12;1;3;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;36;0;0;Canceled;2015-11-09;4;1;A ‚Üí A;0;Solo;Corto plazo
Resort Hotel;1;41;2015;November;46;12;1;3;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;E;E;1;No Deposit;185;281;0;Transient-Party;52,2;0;0;Canceled;2015-10-23;4;1;E ‚Üí E;0;Solo;Corto plazo
Resort Hotel;1;41;2015;November;46;12;1;3;1;0;0;BB;PRT;Corporate;Corporate;0;0;0;E;E;1;No Deposit;185;281;0;Transient-Party;52,2;0;0;Canceled;2015-11-09;4;1;E ‚Üí E;0;Solo;Corto plazo
Resort Hotel;1;41;2015;November;46;12;1;3;2;0;0;BB;PRT;Corporate;Corporate;0;0;0;A;A;1;No Deposit;185;281;0;Transient-Party;43,2;0;0;Canceled;2015-10-23;4;2;A ‚Üí A;0;Pareja;Corto plazo
Resort Hotel;1;114;2017;June;25;19;1;4;2;1;0;HB;PRT;Offline TA/TO;TA/TO;0;0;0;A;A;1;No Deposit;5;250;0;Transient;117,5;0;0;Canceled;2017-05-15;5;3;A ‚Üí A;1;Familia peque√±a;Medio plazo`;

        function parseCSV(csv) {
            const lines = csv.trim().split('\n');
            const headers = lines[0].split(';');
            return lines.slice(1).map(line => {
                const values = line.split(';');
                const obj = {};
                headers.forEach((header, index) => {
                    obj[header] = values[index];
                });
                return obj;
            });
        }

        const hotelData = parseCSV(rawData);

        // Variables globales para los gr√°ficos
        let monthlyChart, countriesChart, segmentsChart, guestsChart;

        // Estado de filtros
        let filters = {
            hotel: 'Todos',
            year: 'Todos',
            country: 'Todos',
            segment: 'Todos'
        };

        // Inicializar dashboard
        document.addEventListener('DOMContentLoaded', function() {
            initializeFilters();
            updateDashboard();
        });

        // Inicializar filtros con valores √∫nicos
        function initializeFilters() {
            const hotels = ['Todos', ...new Set(hotelData.map(d => d.hotel))];
            const years = ['Todos', ...new Set(hotelData.map(d => d.arrival_date_year))];
            const countries = ['Todos', ...new Set(hotelData.map(d => d.country))].slice(0, 20);
            const segments = ['Todos', ...new Set(hotelData.map(d => d.market_segment))];

            populateSelect('filterHotel', hotels);
            populateSelect('filterYear', years);
            populateSelect('filterCountry', countries);
            populateSelect('filterSegment', segments);

            // Event listeners para filtros
            document.getElementById('filterHotel').addEventListener('change', (e) => {
                filters.hotel = e.target.value;
                updateDashboard();
            });
            
            document.getElementById('filterYear').addEventListener('change', (e) => {
                filters.year = e.target.value;
                updateDashboard();
            });
            
            document.getElementById('filterCountry').addEventListener('change', (e) => {
                filters.country = e.target.value;
                updateDashboard();
            });
            
            document.getElementById('filterSegment').addEventListener('change', (e) => {
                filters.segment = e.target.value;
                updateDashboard();
            });
        }

        function populateSelect(id, options) {
            const select = document.getElementById(id);
            select.innerHTML = options.map(opt => `<option value="${opt}">${opt}</option>`).join('');
        }

        // Filtrar datos
        function getFilteredData() {
            return hotelData.filter(d => 
                (filters.hotel === 'Todos' || d.hotel === filters.hotel) &&
                (filters.year === 'Todos' || d.arrival_date_year === filters.year) &&
                (filters.country === 'Todos' || d.country === filters.country) &&
                (filters.segment === 'Todos' || d.market_segment === filters.segment)
            );
        }

        // Actualizar dashboard completo
        function updateDashboard() {
            const data = getFilteredData();
            updateKPIs(data);
            updateCharts(data);
        }

        // Actualizar KPIs
        function updateKPIs(data) {
            const totalBookings = data.length;
            const canceledBookings = data.filter(d => d.is_canceled === '1').length;
            const cancellationRate = totalBookings > 0 ? (canceledBookings / totalBookings * 100).toFixed(1) : 0;
            
            const avgADR = data.reduce((sum, d) => sum + parseFloat(d.adr.replace(',', '.') || 0), 0) / totalBookings;
            
            const totalRevenue = data
                .filter(d => d.is_canceled === '0')
                .reduce((sum, d) => sum + (parseFloat(d.adr.replace(',', '.') || 0) * parseInt(d.total_stays || 0)), 0);
            
            const avgLeadTime = data.reduce((sum, d) => sum + parseInt(d.lead_time || 0), 0) / totalBookings;

            document.getElementById('kpiTotal').textContent = totalBookings.toLocaleString();
            document.getElementById('kpiCancellation').textContent = cancellationRate + '%';
            document.getElementById('kpiADR').textContent = '‚Ç¨' + avgADR.toFixed(2);
            document.getElementById('kpiRevenue').textContent = '‚Ç¨' + Math.round(totalRevenue).toLocaleString();
            document.getElementById('kpiLeadTime').textContent = Math.round(avgLeadTime);

            // Actualizar insights
            document.getElementById('insightCancellation').textContent = 
                `La tasa de cancelaci√≥n actual es del ${cancellationRate}%. Considera pol√≠ticas de dep√≥sito m√°s estrictas.`;
            document.getElementById('insightLeadTime').textContent = 
                `Lead time promedio de ${Math.round(avgLeadTime)} d√≠as. Optimiza estrategias de marketing seg√∫n este patr√≥n.`;
        }

        // Actualizar gr√°ficos
        function updateCharts(data) {
            updateMonthlyChart(data);
            updateCountriesChart(data);
            updateSegmentsChart(data);
            updateGuestsChart(data);
        }

        // Gr√°fico de reservas mensuales
        function updateMonthlyChart(data) {
            const months = ['January', 'February', 'March', 'April', 'May', 'June', 
                            'July', 'August', 'September', 'October', 'November', 'December'];
            const grouped = {};
            
            data.forEach(d => {
                const month = d.arrival_date_month;
                if (!grouped[month]) {
                    grouped[month] = { total: 0, canceled: 0 };
                }
                grouped[month].total++;
                if (d.is_canceled === '1') grouped[month].canceled++;
            });

            const chartData = months.map(month => ({
                month: month.substring(0, 3),
                confirmadas: (grouped[month]?.total || 0) - (grouped[month]?.canceled || 0),
                canceladas: grouped[month]?.canceled || 0
            }));

            const ctx = document.getElementById('monthlyChart');
            
            if (monthlyChart) {
                monthlyChart.destroy();
            }

            monthlyChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: chartData.map(d => d.month),
                    datasets: [
                        {
                            label: 'Confirmadas',
                            data: chartData.map(d => d.confirmadas),
                            backgroundColor: '#10b981',
                            borderRadius: 6
                        },
                        {
                            label: 'Canceladas',
                            data: chartData.map(d => d.canceladas),
                            backgroundColor: '#ef4444',
                            borderRadius: 6
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    },
                    scales: {
                        x: {
                            stacked: false,
                            grid: {
                                display: false
                            }
                        },
                        y: {
                            stacked: false,
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // Gr√°fico de top pa√≠ses
        function updateCountriesChart(data) {
            const grouped = {};
            data.forEach(d => {
                grouped[d.country] = (grouped[d.country] || 0) + 1;
            });
            
            const topCountries = Object.entries(grouped)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 10);

            const ctx = document.getElementById('countriesChart');
            
            if (countriesChart) {
                countriesChart.destroy();
            }

            countriesChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: topCountries.map(([country]) => country),
                    datasets: [{
                        label: 'Reservas',
                        data: topCountries.map(([, count]) => count),
                        backgroundColor: '#3b82f6',
                        borderRadius: 6
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true
                        },
                        y: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        // Gr√°fico de segmentos de mercado
        function updateSegmentsChart(data) {
            const grouped = {};
            data.forEach(d => {
                grouped[d.market_segment] = (grouped[d.market_segment] || 0) + 1;
            });
            
            const segmentData = Object.entries(grouped);
            const colors = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899', '#06b6d4', '#84cc16'];

            const ctx = document.getElementById('segmentsChart');
            
            if (segmentsChart) {
                segmentsChart.destroy();
            }

            segmentsChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: segmentData.map(([name]) => name),
                    datasets: [{
                        data: segmentData.map(([, count]) => count),
                        backgroundColor: colors,
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                        }
                    }
                }
            });
        }

        // Gr√°fico de categor√≠as de hu√©spedes
        function updateGuestsChart(data) {
            const grouped = {};
            data.forEach(d => {
                grouped[d.guest_category] = (grouped[d.guest_category] || 0) + 1;
            });
            
            const guestData = Object.entries(grouped);
            const colors = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899'];

            const ctx = document.getElementById('guestsChart');
            
            if (guestsChart) {
                guestsChart.destroy();
            }

            guestsChart = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: guestData.map(([name]) => name),
                    datasets: [{
                        data: guestData.map(([, count]) => count),
                        backgroundColor: colors,
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>